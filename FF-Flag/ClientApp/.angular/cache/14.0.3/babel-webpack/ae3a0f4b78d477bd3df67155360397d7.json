{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"@azure/abort-controller\";\nconst StandardAbortMessage = \"The operation was aborted.\";\n/**\n * A wrapper for setTimeout that resolves a promise after delayInMs milliseconds.\n * @param delayInMs - The number of milliseconds to be delayed.\n * @param value - The value to be resolved with after a timeout of t milliseconds.\n * @param options - The options for delay - currently abort options\n *                  - abortSignal - The abortSignal associated with containing operation.\n *                  - abortErrorMsg - The abort error message associated with containing operation.\n * @returns Resolved promise\n */\n\nexport function delay(delayInMs, value, options) {\n  return new Promise((resolve, reject) => {\n    let timer = undefined;\n    let onAborted = undefined;\n\n    const rejectOnAbort = () => {\n      return reject(new AbortError((options === null || options === void 0 ? void 0 : options.abortErrorMsg) ? options === null || options === void 0 ? void 0 : options.abortErrorMsg : StandardAbortMessage));\n    };\n\n    const removeListeners = () => {\n      if ((options === null || options === void 0 ? void 0 : options.abortSignal) && onAborted) {\n        options.abortSignal.removeEventListener(\"abort\", onAborted);\n      }\n    };\n\n    onAborted = () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      removeListeners();\n      return rejectOnAbort();\n    };\n\n    if ((options === null || options === void 0 ? void 0 : options.abortSignal) && options.abortSignal.aborted) {\n      return rejectOnAbort();\n    }\n\n    timer = setTimeout(() => {\n      removeListeners();\n      resolve(value);\n    }, delayInMs);\n\n    if (options === null || options === void 0 ? void 0 : options.abortSignal) {\n      options.abortSignal.addEventListener(\"abort\", onAborted);\n    }\n  });\n}\n/**\n * @internal\n * @returns the parsed value or undefined if the parsed value is invalid.\n */\n\nexport function parseHeaderValueAsNumber(response, headerName) {\n  const value = response.headers.get(headerName);\n  if (!value) return;\n  const valueAsNum = Number(value);\n  if (Number.isNaN(valueAsNum)) return;\n  return valueAsNum;\n}","map":{"version":3,"names":["AbortError","StandardAbortMessage","delay","delayInMs","value","options","Promise","resolve","reject","timer","undefined","onAborted","rejectOnAbort","abortErrorMsg","removeListeners","abortSignal","removeEventListener","clearTimeout","aborted","setTimeout","addEventListener","parseHeaderValueAsNumber","response","headerName","headers","get","valueAsNum","Number","isNaN"],"sources":["C:/Users/prash/source/repos/FF-Flag/FF-Flag/ClientApp/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/helpers.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"@azure/abort-controller\";\nconst StandardAbortMessage = \"The operation was aborted.\";\n/**\n * A wrapper for setTimeout that resolves a promise after delayInMs milliseconds.\n * @param delayInMs - The number of milliseconds to be delayed.\n * @param value - The value to be resolved with after a timeout of t milliseconds.\n * @param options - The options for delay - currently abort options\n *                  - abortSignal - The abortSignal associated with containing operation.\n *                  - abortErrorMsg - The abort error message associated with containing operation.\n * @returns Resolved promise\n */\nexport function delay(delayInMs, value, options) {\n    return new Promise((resolve, reject) => {\n        let timer = undefined;\n        let onAborted = undefined;\n        const rejectOnAbort = () => {\n            return reject(new AbortError((options === null || options === void 0 ? void 0 : options.abortErrorMsg) ? options === null || options === void 0 ? void 0 : options.abortErrorMsg : StandardAbortMessage));\n        };\n        const removeListeners = () => {\n            if ((options === null || options === void 0 ? void 0 : options.abortSignal) && onAborted) {\n                options.abortSignal.removeEventListener(\"abort\", onAborted);\n            }\n        };\n        onAborted = () => {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            removeListeners();\n            return rejectOnAbort();\n        };\n        if ((options === null || options === void 0 ? void 0 : options.abortSignal) && options.abortSignal.aborted) {\n            return rejectOnAbort();\n        }\n        timer = setTimeout(() => {\n            removeListeners();\n            resolve(value);\n        }, delayInMs);\n        if (options === null || options === void 0 ? void 0 : options.abortSignal) {\n            options.abortSignal.addEventListener(\"abort\", onAborted);\n        }\n    });\n}\n/**\n * @internal\n * @returns the parsed value or undefined if the parsed value is invalid.\n */\nexport function parseHeaderValueAsNumber(response, headerName) {\n    const value = response.headers.get(headerName);\n    if (!value)\n        return;\n    const valueAsNum = Number(value);\n    if (Number.isNaN(valueAsNum))\n        return;\n    return valueAsNum;\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,UAAT,QAA2B,yBAA3B;AACA,MAAMC,oBAAoB,GAAG,4BAA7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,KAAT,CAAeC,SAAf,EAA0BC,KAA1B,EAAiCC,OAAjC,EAA0C;EAC7C,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACpC,IAAIC,KAAK,GAAGC,SAAZ;IACA,IAAIC,SAAS,GAAGD,SAAhB;;IACA,MAAME,aAAa,GAAG,MAAM;MACxB,OAAOJ,MAAM,CAAC,IAAIR,UAAJ,CAAe,CAACK,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACQ,aAA3D,IAA4ER,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACQ,aAAtI,GAAsJZ,oBAArK,CAAD,CAAb;IACH,CAFD;;IAGA,MAAMa,eAAe,GAAG,MAAM;MAC1B,IAAI,CAACT,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACU,WAA3D,KAA2EJ,SAA/E,EAA0F;QACtFN,OAAO,CAACU,WAAR,CAAoBC,mBAApB,CAAwC,OAAxC,EAAiDL,SAAjD;MACH;IACJ,CAJD;;IAKAA,SAAS,GAAG,MAAM;MACd,IAAIF,KAAJ,EAAW;QACPQ,YAAY,CAACR,KAAD,CAAZ;MACH;;MACDK,eAAe;MACf,OAAOF,aAAa,EAApB;IACH,CAND;;IAOA,IAAI,CAACP,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACU,WAA3D,KAA2EV,OAAO,CAACU,WAAR,CAAoBG,OAAnG,EAA4G;MACxG,OAAON,aAAa,EAApB;IACH;;IACDH,KAAK,GAAGU,UAAU,CAAC,MAAM;MACrBL,eAAe;MACfP,OAAO,CAACH,KAAD,CAAP;IACH,CAHiB,EAGfD,SAHe,CAAlB;;IAIA,IAAIE,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACU,WAA9D,EAA2E;MACvEV,OAAO,CAACU,WAAR,CAAoBK,gBAApB,CAAqC,OAArC,EAA8CT,SAA9C;IACH;EACJ,CA5BM,CAAP;AA6BH;AACD;AACA;AACA;AACA;;AACA,OAAO,SAASU,wBAAT,CAAkCC,QAAlC,EAA4CC,UAA5C,EAAwD;EAC3D,MAAMnB,KAAK,GAAGkB,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqBF,UAArB,CAAd;EACA,IAAI,CAACnB,KAAL,EACI;EACJ,MAAMsB,UAAU,GAAGC,MAAM,CAACvB,KAAD,CAAzB;EACA,IAAIuB,MAAM,CAACC,KAAP,CAAaF,UAAb,CAAJ,EACI;EACJ,OAAOA,UAAP;AACH"},"metadata":{},"sourceType":"module"}